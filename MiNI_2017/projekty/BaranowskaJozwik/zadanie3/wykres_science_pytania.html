<!DOCTYPE html> 
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
  <title>PISA 2015</title>


   <script type="text/javascript" src="https://d3js.org/d3.v3.min.js"></script>
   <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet"> 



  <style type="text/css">

    svg {
       display: block;
       margin-left: auto;
       margin-right: auto;
       border: 1px solid black;
      }

  .axis path  {
        fill: none;
        stroke: black;
        stroke-width: 1.5px;
      }


  .axis line{
       stroke: black;
       stroke-width: 1px;
       stroke-opacity: 0.6;
      }



  .axis text {
        font-family: 'Raleway', sans-serif;
        font-size: 12px;
     }

  .tytuly, .adnotacja, .legend{
        font-family: 'Raleway', sans-serif;
     }

   .legend{
     font-size: 12px;
   }



  #tooltip { 
    position: fixed; 
    height: auto;
    width:  auto;       
    padding: 5px;       
    font: 10px sans-serif;  
    text-align: left;      
    background: white;
    border: 10px;    
    border-radius: 10px;    
    box-shadow:  0px 0px 10px 3px rgba(0,0,0,0.57); 
    pointer-events: none;
  }

    </style>
     
</head>
<body>

 <div id="chart" >
   </div>

<script type="text/javascript">




//********************************************************************************* DANE

// DO KÓŁEK
var jsonik = [{"item_short":"S131Q02","ProcFullCredit":47.3446,"N":31662,"TimeAvgMin":2.9809,"VARLABEL":"Good Vibrations - Q02","std":16.3562,"rankingPolska":7,"top1":"JPN","top2":"HKG","top3":"ISR"},{"item_short":"S131Q04","ProcFullCredit":30.4356,"N":31620,"TimeAvgMin":2.0003,"VARLABEL":"Good Vibrations - Q04","std":10.3558,"rankingPolska":17,"top1":"HKG","top2":"QCH","top3":"KOR"},{"item_short":"S252Q01","ProcFullCredit":46.9464,"N":34523,"TimeAvgMin":1.3409,"VARLABEL":"South Rainea - Q01","std":10.8268,"rankingPolska":33,"top1":"FIN","top2":"EST","top3":"DNK"},{"item_short":"S252Q02","ProcFullCredit":61.2177,"N":34473,"TimeAvgMin":0.8274,"VARLABEL":"South Rainea - Q02","std":7.7359,"rankingPolska":9,"top1":"SVN","top2":"DNK","top3":"EST"},{"item_short":"S252Q03","ProcFullCredit":51.4772,"N":34478,"TimeAvgMin":0.9218,"VARLABEL":"South Rainea - Q03","std":8.4967,"rankingPolska":15,"top1":"HKG","top2":"SVN","top3":"KOR"},{"item_short":"S256Q01","ProcFullCredit":89.114,"N":34964,"TimeAvgMin":0.5012,"VARLABEL":"Spoons - Q01","std":5.343,"rankingPolska":21,"top1":"SGP","top2":"JPN","top3":"EST"},{"item_short":"S268Q01","ProcFullCredit":65.8319,"N":34208,"TimeAvgMin":1.5745,"VARLABEL":"Algae - Q01","std":9.0365,"rankingPolska":47,"top1":"FIN","top2":"EST","top3":"KOR"},{"item_short":"S268Q02","ProcFullCredit":35.5489,"N":28838,"TimeAvgMin":2.0159,"VARLABEL":"Algae - Q02","std":14.1014,"rankingPolska":8,"top1":"EST","top2":"QCH","top3":"TAP"},{"item_short":"S268Q06","ProcFullCredit":43.7758,"N":33887,"TimeAvgMin":1.0546,"VARLABEL":"Algae - Q06","std":13.4965,"rankingPolska":2,"top1":"TAP","top2":"POL","top3":"SVN"},{"item_short":"S269Q01","ProcFullCredit":44.7909,"N":31961,"TimeAvgMin":1.9838,"VARLABEL":"Earth's Temperature - Q01","std":15.2092,"rankingPolska":37,"top1":"NOR","top2":"TAP","top3":"EST"},{"item_short":"S269Q03","ProcFullCredit":40.4533,"N":31368,"TimeAvgMin":1.9977,"VARLABEL":"Earth's Temperature - Q03","std":17.2008,"rankingPolska":14,"top1":"JPN","top2":"HKG","top3":"MAC"},{"item_short":"S269Q04","ProcFullCredit":29.1545,"N":35033,"TimeAvgMin":0.8375,"VARLABEL":"Earth's Temperature - Q04","std":9.6397,"rankingPolska":16,"top1":"JPN","top2":"HKG","top3":"QCH"},{"item_short":"S304Q01","ProcFullCredit":32.6865,"N":31598,"TimeAvgMin":2.6992,"VARLABEL":"Water - Q01","std":12.2691,"rankingPolska":25,"top1":"JPN","top2":"KOR","top3":"NZL"},{"item_short":"S304Q02","ProcFullCredit":52.6307,"N":34083,"TimeAvgMin":0.5679,"VARLABEL":"Water - Q02","std":10.5728,"rankingPolska":30,"top1":"SGP","top2":"FIN","top3":"MAC"},{"item_short":"S326Q01","ProcFullCredit":55.7024,"N":30205,"TimeAvgMin":2.4926,"VARLABEL":"Milk - Q01","std":12.9808,"rankingPolska":44,"top1":"IRL","top2":"GBR","top3":"MAC"},{"item_short":"S326Q02","ProcFullCredit":60.2957,"N":30266,"TimeAvgMin":1.4247,"VARLABEL":"Milk - Q02","std":14.8467,"rankingPolska":33,"top1":"GBR","top2":"SGP","top3":"MAC"},{"item_short":"S326Q03","ProcFullCredit":50.7994,"N":34331,"TimeAvgMin":1.1398,"VARLABEL":"Milk - Q03","std":11.5392,"rankingPolska":25,"top1":"SGP","top2":"FIN","top3":"EST"},{"item_short":"S326Q04","ProcFullCredit":19.6732,"N":34861,"TimeAvgMin":0.6941,"VARLABEL":"Milk - Q04","std":9.3916,"rankingPolska":8,"top1":"HKG","top2":"KOR","top3":"FIN"},{"item_short":"S327Q01","ProcFullCredit":47.9367,"N":34406,"TimeAvgMin":1.6142,"VARLABEL":"Tidal Energy - Q01","std":12.1346,"rankingPolska":8,"top1":"TAP","top2":"HKG","top3":"FIN"},{"item_short":"S408Q01","ProcFullCredit":53.7856,"N":35053,"TimeAvgMin":1.2998,"VARLABEL":"Wild Oat Grass - Q01","std":12.4609,"rankingPolska":8,"top1":"FIN","top2":"JPN","top3":"PRT"},{"item_short":"S408Q03","ProcFullCredit":28.6022,"N":30848,"TimeAvgMin":1.7753,"VARLABEL":"Wild Oat Grass - Q03","std":11.5107,"rankingPolska":25,"top1":"EST","top2":"LVA","top3":"GBR"},{"item_short":"S408Q04","ProcFullCredit":47.085,"N":34929,"TimeAvgMin":0.6691,"VARLABEL":"Wild Oat Grass - Q04","std":11.6389,"rankingPolska":1,"top1":"POL","top2":"FIN","top3":"SVN"},{"item_short":"S408Q05","ProcFullCredit":35.3209,"N":34708,"TimeAvgMin":0.8827,"VARLABEL":"Wild Oat Grass - Q05","std":9.9738,"rankingPolska":18,"top1":"KOR","top2":"EST","top3":"QCH"},{"item_short":"S413Q04","ProcFullCredit":36.2363,"N":34330,"TimeAvgMin":0.9021,"VARLABEL":"Plastic Age - Q04","std":11.9151,"rankingPolska":15,"top1":"FIN","top2":"SGP","top3":"JPN"},{"item_short":"S413Q05","ProcFullCredit":64.975,"N":33998,"TimeAvgMin":0.946,"VARLABEL":"Plastic Age - Q05","std":7.9001,"rankingPolska":2,"top1":"FIN","top2":"POL","top3":"SVN"},{"item_short":"S413Q06","ProcFullCredit":31.8354,"N":33563,"TimeAvgMin":1.451,"VARLABEL":"Plastic Age - Q06","std":11.9244,"rankingPolska":17,"top1":"SGP","top2":"KOR","top3":"QUC"},{"item_short":"S415Q02","ProcFullCredit":72.101,"N":32814,"TimeAvgMin":0.5818,"VARLABEL":"Solar Power Generation","std":11.0312,"rankingPolska":10,"top1":"DEU","top2":"FIN","top3":"QUC"},{"item_short":"S415Q07","ProcFullCredit":71.2203,"N":33151,"TimeAvgMin":0.9266,"VARLABEL":"Solar Power Generation","std":10.0643,"rankingPolska":12,"top1":"DEU","top2":"SVN","top3":"NLD"},{"item_short":"S415Q08","ProcFullCredit":57.8751,"N":32745,"TimeAvgMin":0.838,"VARLABEL":"Solar Power Generation","std":11.2299,"rankingPolska":13,"top1":"HKG","top2":"JPN","top3":"MAC"},{"item_short":"S416Q01","ProcFullCredit":39.5925,"N":31694,"TimeAvgMin":2.8726,"VARLABEL":"The Moon - Q01","std":12.3222,"rankingPolska":39,"top1":"JPN","top2":"TAP","top3":"QUC"},{"item_short":"S421Q01","ProcFullCredit":39.7478,"N":34642,"TimeAvgMin":0.8997,"VARLABEL":"Big and Small - Q01","std":11.1063,"rankingPolska":30,"top1":"SVN","top2":"SGP","top3":"QCH"},{"item_short":"S421Q02","ProcFullCredit":28.8609,"N":34121,"TimeAvgMin":0.5032,"VARLABEL":"Big and Small - Q02","std":7.6259,"rankingPolska":29,"top1":"JPN","top2":"SVN","top3":"TAP"},{"item_short":"S421Q03","ProcFullCredit":59.8154,"N":34677,"TimeAvgMin":0.4636,"VARLABEL":"Big and Small - Q03","std":12.6325,"rankingPolska":37,"top1":"QUC","top2":"ESP","top3":"QES"},{"item_short":"S425Q02","ProcFullCredit":48.0567,"N":32354,"TimeAvgMin":1.1784,"VARLABEL":"Penguin Island - Q02","std":10.3976,"rankingPolska":24,"top1":"SGP","top2":"KOR","top3":"QCH"},{"item_short":"S425Q03","ProcFullCredit":39.908,"N":29443,"TimeAvgMin":2.391,"VARLABEL":"Penguin Island - Q03","std":10.5,"rankingPolska":5,"top1":"SVN","top2":"EST","top3":"MNE"},{"item_short":"S425Q04","ProcFullCredit":23.2739,"N":28518,"TimeAvgMin":2.2592,"VARLABEL":"Penguin Island - Q04","std":11.3096,"rankingPolska":31,"top1":"SGP","top2":"FIN","top3":"AUT"},{"item_short":"S425Q05","ProcFullCredit":64.0667,"N":32624,"TimeAvgMin":1.0642,"VARLABEL":"Penguin Island - Q05","std":8.848,"rankingPolska":24,"top1":"HKG","top2":"JPN","top3":"MAC"},{"item_short":"S428Q01","ProcFullCredit":52.198,"N":34835,"TimeAvgMin":0.9653,"VARLABEL":"Bacteria in Milk - Q01","std":13.0364,"rankingPolska":3,"top1":"TAP","top2":"SGP","top3":"POL"},{"item_short":"S428Q03","ProcFullCredit":69.1587,"N":34721,"TimeAvgMin":0.8984,"VARLABEL":"Bacteria in Milk - Q03","std":13.3332,"rankingPolska":12,"top1":"HKG","top2":"SGP","top3":"TAP"},{"item_short":"S428Q05","ProcFullCredit":43.1814,"N":30210,"TimeAvgMin":2.0681,"VARLABEL":"Bacteria in Milk - Q05","std":15.3891,"rankingPolska":30,"top1":"JPN","top2":"TAP","top3":"EST"},{"item_short":"S437Q01","ProcFullCredit":62.0739,"N":34920,"TimeAvgMin":0.8018,"VARLABEL":"Extinguishing Fires - Q01","std":12.4359,"rankingPolska":14,"top1":"HKG","top2":"FIN","top3":"HUN"},{"item_short":"S437Q03","ProcFullCredit":48.2122,"N":34818,"TimeAvgMin":0.5913,"VARLABEL":"Extinguishing Fires - Q03","std":8.892,"rankingPolska":25,"top1":"QCH","top2":"TAP","top3":"HKG"},{"item_short":"S437Q04","ProcFullCredit":45.7341,"N":34648,"TimeAvgMin":0.7852,"VARLABEL":"Extinguishing Fires - Q04","std":12.0966,"rankingPolska":22,"top1":"FIN","top2":"SGP","top3":"DEU"},{"item_short":"S437Q06","ProcFullCredit":71.2857,"N":31656,"TimeAvgMin":1.6456,"VARLABEL":"Extinguishing Fires - Q06","std":16.4119,"rankingPolska":6,"top1":"HRV","top2":"HKG","top3":"DNK"},{"item_short":"S438Q01","ProcFullCredit":71.7739,"N":33828,"TimeAvgMin":0.6427,"VARLABEL":"Green Parks - Q01","std":10.734,"rankingPolska":12,"top1":"NLD","top2":"DEU","top3":"CZE"},{"item_short":"S438Q02","ProcFullCredit":59.8636,"N":33154,"TimeAvgMin":1.0719,"VARLABEL":"Green Parks - Q02","std":11.5762,"rankingPolska":20,"top1":"EST","top2":"QCH","top3":"SGP"},{"item_short":"S438Q03","ProcFullCredit":35.4197,"N":27663,"TimeAvgMin":1.4782,"VARLABEL":"Green Parks - Q03","std":14.3929,"rankingPolska":33,"top1":"EST","top2":"SGP","top3":"NZL"},{"item_short":"S458Q01","ProcFullCredit":13.2397,"N":31314,"TimeAvgMin":2.9562,"VARLABEL":"The Ice Mummy - Q01","std":8.4947,"rankingPolska":48,"top1":"TAP","top2":"EST","top3":"GBR"},{"item_short":"S458Q02","ProcFullCredit":46.0992,"N":34757,"TimeAvgMin":0.9559,"VARLABEL":"The Ice Mummy - Q02","std":10.4572,"rankingPolska":4,"top1":"QUC","top2":"ITA","top3":"AUS"},{"item_short":"S465Q01","ProcFullCredit":25.7286,"N":32088,"TimeAvgMin":2.1331,"VARLABEL":"Different Climates - Q01","std":12.9856,"rankingPolska":2,"top1":"FIN","top2":"POL","top3":"SVN"},{"item_short":"S465Q02","ProcFullCredit":57.1864,"N":34521,"TimeAvgMin":1.1085,"VARLABEL":"Different Climates - Q02","std":10.6713,"rankingPolska":20,"top1":"QUC","top2":"JPN","top3":"AUS"},{"item_short":"S465Q04","ProcFullCredit":35.4112,"N":30041,"TimeAvgMin":1.1413,"VARLABEL":"Different Climates - Q04","std":8.8742,"rankingPolska":18,"top1":"QCH","top2":"EST","top3":"SVN"},{"item_short":"S466Q01","ProcFullCredit":63.4544,"N":33346,"TimeAvgMin":1.2636,"VARLABEL":"Forest Fires - Q01","std":10.6675,"rankingPolska":6,"top1":"EST","top2":"FIN","top3":"DNK"},{"item_short":"S466Q05","ProcFullCredit":46.6498,"N":32649,"TimeAvgMin":0.93,"VARLABEL":"Forest Fires - Q05","std":12.8612,"rankingPolska":9,"top1":"FIN","top2":"TAP","top3":"DEU"},{"item_short":"S466Q07","ProcFullCredit":68.4102,"N":33175,"TimeAvgMin":0.501,"VARLABEL":"Forest Fires - Q07","std":12.5529,"rankingPolska":10,"top1":"JPN","top2":"MAC","top3":"QCH"},{"item_short":"S476Q01","ProcFullCredit":68.0697,"N":34834,"TimeAvgMin":1.5221,"VARLABEL":"Heart Surgery - Q01","std":8.7222,"rankingPolska":18,"top1":"SGP","top2":"ESP","top3":"IRL"},{"item_short":"S476Q02","ProcFullCredit":65.3795,"N":34937,"TimeAvgMin":0.6233,"VARLABEL":"Heart Surgery - Q02","std":12.8394,"rankingPolska":7,"top1":"SGP","top2":"QUC","top3":"NLD"},{"item_short":"S476Q03","ProcFullCredit":55.4086,"N":34733,"TimeAvgMin":0.9663,"VARLABEL":"Heart Surgery - Q03","std":12.8408,"rankingPolska":13,"top1":"CZE","top2":"EST","top3":"FIN"},{"item_short":"S478Q01","ProcFullCredit":41.5554,"N":33923,"TimeAvgMin":1.0021,"VARLABEL":"Antibiotics - Q01","std":11.0211,"rankingPolska":20,"top1":"FIN","top2":"SGP","top3":"NOR"},{"item_short":"S478Q02","ProcFullCredit":47.0744,"N":34586,"TimeAvgMin":1.3008,"VARLABEL":"Antibiotics - Q02","std":10.8893,"rankingPolska":14,"top1":"FRA","top2":"EST","top3":"SGP"},{"item_short":"S478Q03","ProcFullCredit":60.0743,"N":34501,"TimeAvgMin":0.6857,"VARLABEL":"Antibiotics - Q03","std":11.2413,"rankingPolska":14,"top1":"HKG","top2":"DNK","top3":"MAC"},{"item_short":"S495Q01","ProcFullCredit":36.7973,"N":34806,"TimeAvgMin":1.035,"VARLABEL":"Radiotherapy - Q01","std":11.9767,"rankingPolska":18,"top1":"QUC","top2":"SGP","top3":"CAN"},{"item_short":"S495Q02","ProcFullCredit":54.8762,"N":34740,"TimeAvgMin":0.8948,"VARLABEL":"Radiotherapy - Q02","std":11.7714,"rankingPolska":15,"top1":"EST","top2":"SGP","top3":"CAN"},{"item_short":"S495Q03","ProcFullCredit":38.6097,"N":29573,"TimeAvgMin":2.2612,"VARLABEL":"Radiotherapy - Q03","std":11.1628,"rankingPolska":28,"top1":"ITA","top2":"EST","top3":"SGP"},{"item_short":"S495Q04","ProcFullCredit":31.7079,"N":34935,"TimeAvgMin":1.5064,"VARLABEL":"Radiotherapy - Q04","std":9.2967,"rankingPolska":56,"top1":"FIN","top2":"NZL","top3":"DNK"},{"item_short":"S498Q02","ProcFullCredit":38.4563,"N":34023,"TimeAvgMin":1.2631,"VARLABEL":"Experimental Digestion - Q02","std":6.3434,"rankingPolska":2,"top1":"SGP","top2":"POL","top3":"MAC"},{"item_short":"S498Q03","ProcFullCredit":41.5802,"N":33205,"TimeAvgMin":0.8951,"VARLABEL":"Experimental Digestion - Q03","std":6.095,"rankingPolska":28,"top1":"SGP","top2":"USA","top3":"QUC"},{"item_short":"S498Q04","ProcFullCredit":48.1071,"N":33050,"TimeAvgMin":2.1532,"VARLABEL":"Experimental Digestion - Q04","std":17.0959,"rankingPolska":14,"top1":"SGP","top2":"HKG","top3":"MAC"},{"item_short":"S510Q01","ProcFullCredit":46.8908,"N":35018,"TimeAvgMin":1.3643,"VARLABEL":"Magnetic Hovertrain - Q01","std":10.8121,"rankingPolska":25,"top1":"TAP","top2":"SGP","top3":"FIN"},{"item_short":"S510Q04","ProcFullCredit":35.6986,"N":32198,"TimeAvgMin":2.0412,"VARLABEL":"Magnetic Hovertrain - Q04","std":16.355,"rankingPolska":22,"top1":"QCH","top2":"HKG","top3":"SGP"},{"item_short":"S514Q02","ProcFullCredit":76.9099,"N":31890,"TimeAvgMin":2.0663,"VARLABEL":"Development and Disaster - Q02","std":9.8133,"rankingPolska":16,"top1":"FIN","top2":"HRV","top3":"IRL"},{"item_short":"S514Q03","ProcFullCredit":38.0857,"N":33481,"TimeAvgMin":2.0171,"VARLABEL":"Development and Disaster - Q03","std":13.2695,"rankingPolska":4,"top1":"JPN","top2":"EST","top3":"CZE"},{"item_short":"S514Q04","ProcFullCredit":52.659,"N":32322,"TimeAvgMin":2.1138,"VARLABEL":"Development and Disaster - Q04","std":15.2557,"rankingPolska":14,"top1":"JPN","top2":"KOR","top3":"TAP"},{"item_short":"S519Q01","ProcFullCredit":25.0491,"N":31119,"TimeAvgMin":2.4418,"VARLABEL":"Airbags - Q01","std":10.6908,"rankingPolska":37,"top1":"EST","top2":"SGP","top3":"JPN"},{"item_short":"S519Q02","ProcFullCredit":50.2176,"N":33782,"TimeAvgMin":0.6914,"VARLABEL":"Airbags - Q02","std":8.0651,"rankingPolska":4,"top1":"EST","top2":"SVN","top3":"HUN"},{"item_short":"S519Q03","ProcFullCredit":26.5648,"N":30322,"TimeAvgMin":1.7874,"VARLABEL":"Airbags - Q03","std":10.5104,"rankingPolska":13,"top1":"QCH","top2":"HKG","top3":"JPN"},{"item_short":"S521Q02","ProcFullCredit":49.3019,"N":34744,"TimeAvgMin":1.2989,"VARLABEL":"Cooking Outdoors - Q02","std":11.505,"rankingPolska":48,"top1":"HUN","top2":"QCH","top3":"TAP"},{"item_short":"S521Q06","ProcFullCredit":85.8066,"N":34611,"TimeAvgMin":0.4927,"VARLABEL":"Cooking Outdoors - Q06","std":7.1707,"rankingPolska":5,"top1":"RUS","top2":"FIN","top3":"SVN"},{"item_short":"S524Q06","ProcFullCredit":59.1805,"N":35052,"TimeAvgMin":1.3183,"VARLABEL":"Penicillin Manufacture - Q06","std":10.5977,"rankingPolska":18,"top1":"JPN","top2":"DNK","top3":"QUE"},{"item_short":"S524Q07","ProcFullCredit":39.6076,"N":28868,"TimeAvgMin":1.7109,"VARLABEL":"Penicillin Manufacture - Q07","std":16.057,"rankingPolska":19,"top1":"SGP","top2":"GBR","top3":"IRL"},{"item_short":"S527Q01","ProcFullCredit":11.9083,"N":33776,"TimeAvgMin":1.5262,"VARLABEL":"Extinction of the Dinosaurs - Q01","std":4.8191,"rankingPolska":16,"top1":"SWE","top2":"FIN","top3":"SGP"},{"item_short":"S527Q03","ProcFullCredit":52.1023,"N":33641,"TimeAvgMin":0.7741,"VARLABEL":"Extinction of the Dinosaurs - Q03","std":12.5266,"rankingPolska":35,"top1":"NOR","top2":"SWE","top3":"TAP"},{"item_short":"S527Q04","ProcFullCredit":49.0314,"N":33368,"TimeAvgMin":0.9532,"VARLABEL":"Extinction of the Dinosaurs - Q04","std":11.6922,"rankingPolska":20,"top1":"JPN","top2":"FIN","top3":"CAN"},{"item_short":"S601Q01","ProcFullCredit":6.4239,"N":59414,"TimeAvgMin":2.0489,"VARLABEL":"Sustainable Fish Farming - Q01","std":3.5716,"rankingPolska":38,"top1":"SGP","top2":"DEU","top3":"CHE"},{"item_short":"S601Q02","ProcFullCredit":65.5054,"N":67552,"TimeAvgMin":0.6055,"VARLABEL":"Sustainable Fish Farming - Q02","std":10.0393,"rankingPolska":26,"top1":"SGP","top2":"MAC","top3":"TAP"},{"item_short":"S601Q04","ProcFullCredit":37.1134,"N":68424,"TimeAvgMin":0.6317,"VARLABEL":"Sustainable Fish Farming - Q04","std":12.4331,"rankingPolska":49,"top1":"TAP","top2":"QCH","top3":"HKG"},{"item_short":"S602Q01","ProcFullCredit":76.3075,"N":65543,"TimeAvgMin":1.0631,"VARLABEL":"Urban Heat Island Effect - Q01","std":9.544,"rankingPolska":8,"top1":"JPN","top2":"EST","top3":"KOR"},{"item_short":"S602Q02","ProcFullCredit":30.4551,"N":65238,"TimeAvgMin":1.0863,"VARLABEL":"Urban Heat Island Effect - Q02","std":8.0133,"rankingPolska":13,"top1":"JPN","top2":"AUT","top3":"MAC"},{"item_short":"S602Q03","ProcFullCredit":34.6239,"N":49732,"TimeAvgMin":1.6931,"VARLABEL":"Urban Heat Island Effect - Q03","std":9.6681,"rankingPolska":13,"top1":"QUC","top2":"USA","top3":"JPN"},{"item_short":"S602Q04","ProcFullCredit":68.8743,"N":63606,"TimeAvgMin":0.9841,"VARLABEL":"Urban Heat Island Effect - Q04","std":10.2188,"rankingPolska":38,"top1":"JPN","top2":"QCH","top3":"MAC"},{"item_short":"S603Q01","ProcFullCredit":70.84,"N":67592,"TimeAvgMin":1.0235,"VARLABEL":"Elephants and Acacia Trees - Q01","std":9.1757,"rankingPolska":23,"top1":"JPN","top2":"SGP","top3":"TAP"},{"item_short":"S603Q02","ProcFullCredit":33.2569,"N":65256,"TimeAvgMin":1.8505,"VARLABEL":"Elephants and Acacia Trees - Q02","std":13.2961,"rankingPolska":31,"top1":"JPN","top2":"SGP","top3":"HKG"},{"item_short":"S603Q03","ProcFullCredit":68.7702,"N":66859,"TimeAvgMin":0.6203,"VARLABEL":"Elephants and Acacia Trees - Q03","std":8.3576,"rankingPolska":8,"top1":"QCH","top2":"QUC","top3":"TAP"},{"item_short":"S603Q04","ProcFullCredit":54.3472,"N":66515,"TimeAvgMin":0.6217,"VARLABEL":"Elephants and Acacia Trees - Q04","std":6.8239,"rankingPolska":36,"top1":"KOR","top2":"SGP","top3":"USA"},{"item_short":"S603Q05","ProcFullCredit":53.2304,"N":66088,"TimeAvgMin":0.898,"VARLABEL":"Elephants and Acacia Trees - Q05","std":9.2427,"rankingPolska":16,"top1":"NLD","top2":"SGP","top3":"NZL"},{"item_short":"S604Q02","ProcFullCredit":43.9095,"N":68750,"TimeAvgMin":1.2777,"VARLABEL":"Water from Fog - Q02","std":9.6138,"rankingPolska":25,"top1":"MAC","top2":"JPN","top3":"FRA"},{"item_short":"S604Q04","ProcFullCredit":25.3322,"N":67551,"TimeAvgMin":2.2734,"VARLABEL":"Water from Fog - Q04","std":9.8122,"rankingPolska":33,"top1":"TAP","top2":"NZL","top3":"CAN"},{"item_short":"S605Q01","ProcFullCredit":48.0328,"N":51521,"TimeAvgMin":1.5806,"VARLABEL":"Geothermal Energy - Q01","std":11.7527,"rankingPolska":16,"top1":"FIN","top2":"SGP","top3":"MAC"},{"item_short":"S605Q02","ProcFullCredit":28.8108,"N":63985,"TimeAvgMin":0.86,"VARLABEL":"Geothermal Energy - Q02","std":10.9763,"rankingPolska":21,"top1":"KOR","top2":"SGP","top3":"FIN"},{"item_short":"S605Q03","ProcFullCredit":53.1799,"N":62690,"TimeAvgMin":0.9863,"VARLABEL":"Geothermal Energy - Q03","std":8.9212,"rankingPolska":40,"top1":"QCH","top2":"HKG","top3":"TAP"},{"item_short":"S605Q04","ProcFullCredit":36.5983,"N":47985,"TimeAvgMin":1.7507,"VARLABEL":"Geothermal Energy - Q04","std":15.9799,"rankingPolska":35,"top1":"GBR","top2":"SWE","top3":"FIN"},{"item_short":"S607Q01","ProcFullCredit":84.1231,"N":66964,"TimeAvgMin":0.5068,"VARLABEL":"Birds and Caterpillars - Q01","std":8.3497,"rankingPolska":39,"top1":"QUE","top2":"QUC","top3":"SGP"},{"item_short":"S607Q02","ProcFullCredit":47.283,"N":68173,"TimeAvgMin":0.4776,"VARLABEL":"Birds and Caterpillars - Q02","std":17.4221,"rankingPolska":32,"top1":"SGP","top2":"QUC","top3":"JPN"},{"item_short":"S607Q03","ProcFullCredit":27.2709,"N":68262,"TimeAvgMin":2.8966,"VARLABEL":"Birds and Caterpillars - Q03","std":11.1181,"rankingPolska":33,"top1":"QUC","top2":"SGP","top3":"NZL"},{"item_short":"S608Q01","ProcFullCredit":33.2145,"N":65082,"TimeAvgMin":1.1389,"VARLABEL":"Ammonoids - Q01","std":11.2173,"rankingPolska":5,"top1":"TAP","top2":"HKG","top3":"JPN"},{"item_short":"S608Q02","ProcFullCredit":56.5498,"N":65280,"TimeAvgMin":1.0965,"VARLABEL":"Ammonoids - Q02","std":12.073,"rankingPolska":15,"top1":"EST","top2":"FIN","top3":"TAP"},{"item_short":"S608Q03","ProcFullCredit":41.4777,"N":65369,"TimeAvgMin":0.9444,"VARLABEL":"Ammonoids - Q03","std":10.3611,"rankingPolska":23,"top1":"SGP","top2":"FIN","top3":"DNK"},{"item_short":"S608Q04","ProcFullCredit":43.2361,"N":64506,"TimeAvgMin":1.6539,"VARLABEL":"Ammonoids - Q04","std":15.0429,"rankingPolska":30,"top1":"QUC","top2":"SGP","top3":"FIN"},{"item_short":"S610Q01","ProcFullCredit":29.4497,"N":59435,"TimeAvgMin":2.6448,"VARLABEL":"Brain-Controlled Robotics - Q01","std":10.5208,"rankingPolska":38,"top1":"HKG","top2":"SGP","top3":"QUC"},{"item_short":"S610Q02","ProcFullCredit":83.8038,"N":67590,"TimeAvgMin":0.5648,"VARLABEL":"Brain-Controlled Robotics - Q02","std":6.596,"rankingPolska":45,"top1":"SGP","top2":"FIN","top3":"MAC"},{"item_short":"S610Q04","ProcFullCredit":46.6038,"N":65735,"TimeAvgMin":1.2925,"VARLABEL":"Brain-Controlled Robotics - Q04","std":16.4715,"rankingPolska":36,"top1":"JPN","top2":"EST","top3":"TAP"},{"item_short":"S615Q01","ProcFullCredit":77.6873,"N":68573,"TimeAvgMin":1.6303,"VARLABEL":"Understanding Tsunamis - Q01","std":9.5499,"rankingPolska":24,"top1":"MAC","top2":"DNK","top3":"KOR"},{"item_short":"S615Q02","ProcFullCredit":40.3313,"N":69276,"TimeAvgMin":1.3985,"VARLABEL":"Understanding Tsunamis - Q02","std":13.0487,"rankingPolska":14,"top1":"SGP","top2":"QUC","top3":"JPN"},{"item_short":"S615Q05","ProcFullCredit":18.7251,"N":68085,"TimeAvgMin":0.9207,"VARLABEL":"Understanding Tsunamis - Q05","std":4.7738,"rankingPolska":10,"top1":"TAP","top2":"QCH","top3":"JPN"},{"item_short":"S615Q07","ProcFullCredit":26.593,"N":70010,"TimeAvgMin":1.9625,"VARLABEL":"Understanding Tsunamis - Q07","std":10.7179,"rankingPolska":20,"top1":"SGP","top2":"EST","top3":"KOR"},{"item_short":"S620Q01","ProcFullCredit":79.7649,"N":67463,"TimeAvgMin":0.756,"VARLABEL":"Tornadoes - Q01","std":7.677,"rankingPolska":18,"top1":"QUC","top2":"CAN","top3":"JPN"},{"item_short":"S620Q02","ProcFullCredit":32.5946,"N":66706,"TimeAvgMin":1.1451,"VARLABEL":"Tornadoes - Q02","std":9.9532,"rankingPolska":33,"top1":"JPN","top2":"SGP","top3":"TAP"},{"item_short":"S620Q04","ProcFullCredit":36.6388,"N":53517,"TimeAvgMin":2.1551,"VARLABEL":"Tornadoes - Q04","std":13.2659,"rankingPolska":14,"top1":"CAN","top2":"SGP","top3":"FRA"},{"item_short":"S625Q01","ProcFullCredit":43.8445,"N":63515,"TimeAvgMin":2.4655,"VARLABEL":"Wildfires and the Fire Triangle - Q01","std":12.9271,"rankingPolska":16,"top1":"HKG","top2":"NLD","top3":"QUC"},{"item_short":"S625Q02","ProcFullCredit":56.663,"N":70102,"TimeAvgMin":0.8222,"VARLABEL":"Wildfires and the Fire Triangle - Q02","std":14.8534,"rankingPolska":20,"top1":"FIN","top2":"JPN","top3":"QUC"},{"item_short":"S625Q03","ProcFullCredit":51.4951,"N":70182,"TimeAvgMin":0.8268,"VARLABEL":"Wildfires and the Fire Triangle - Q03","std":12.344,"rankingPolska":2,"top1":"SVN","top2":"POL","top3":"FIN"},{"item_short":"S626Q01","ProcFullCredit":56.8936,"N":67178,"TimeAvgMin":0.9128,"VARLABEL":"Sounds in Marine Habitats - Q01","std":9.0091,"rankingPolska":22,"top1":"NZL","top2":"DEU","top3":"FIN"},{"item_short":"S626Q02","ProcFullCredit":49.714,"N":66309,"TimeAvgMin":1.1903,"VARLABEL":"Sounds in Marine Habitats - Q02","std":11.1598,"rankingPolska":21,"top1":"SGP","top2":"FIN","top3":"EST"},{"item_short":"S626Q03","ProcFullCredit":63.4746,"N":65716,"TimeAvgMin":0.8342,"VARLABEL":"Sounds in Marine Habitats - Q03","std":9.7674,"rankingPolska":34,"top1":"SGP","top2":"FIN","top3":"EST"},{"item_short":"S626Q04","ProcFullCredit":48.7149,"N":64765,"TimeAvgMin":2.0338,"VARLABEL":"Sounds in Marine Habitats - Q04","std":17.3893,"rankingPolska":34,"top1":"SGP","top2":"IRL","top3":"GBR"},{"item_short":"S627Q01","ProcFullCredit":41.3365,"N":69873,"TimeAvgMin":1.0646,"VARLABEL":"Car Tyres - Q01","std":13.0769,"rankingPolska":11,"top1":"KOR","top2":"QCH","top3":"JPN"},{"item_short":"S627Q03","ProcFullCredit":74.6127,"N":67711,"TimeAvgMin":1.1631,"VARLABEL":"Car Tyres - Q03","std":7.1808,"rankingPolska":31,"top1":"QUC","top2":"AUS","top3":"SGP"},{"item_short":"S627Q04","ProcFullCredit":58.2879,"N":69817,"TimeAvgMin":1.0583,"VARLABEL":"Car Tyres - Q04","std":11.3464,"rankingPolska":15,"top1":"HKG","top2":"MAC","top3":"DNK"},{"item_short":"S629Q01","ProcFullCredit":46.0272,"N":63378,"TimeAvgMin":1.746,"VARLABEL":"Solar Cooker - Q01","std":11.0822,"rankingPolska":33,"top1":"EST","top2":"SWE","top3":"DNK"},{"item_short":"S629Q02","ProcFullCredit":36.7652,"N":67608,"TimeAvgMin":0.6256,"VARLABEL":"Solar Cooker - Q02","std":11.8471,"rankingPolska":23,"top1":"TAP","top2":"JPN","top3":"EST"},{"item_short":"S629Q03","ProcFullCredit":48.9095,"N":65895,"TimeAvgMin":1.4879,"VARLABEL":"Solar Cooker - Q03","std":14.0678,"rankingPolska":41,"top1":"MAC","top2":"EST","top3":"KOR"},{"item_short":"S629Q04","ProcFullCredit":51.7339,"N":66836,"TimeAvgMin":0.84,"VARLABEL":"Solar Cooker - Q04","std":10.8052,"rankingPolska":13,"top1":"QUC","top2":"NLD","top3":"QUE"},{"item_short":"S634Q01","ProcFullCredit":16.936,"N":67281,"TimeAvgMin":1.9373,"VARLABEL":"Vaccination and Spreading of Disease - Q01","std":7.6198,"rankingPolska":36,"top1":"QUC","top2":"FRA","top3":"EST"},{"item_short":"S634Q02","ProcFullCredit":14.7351,"N":67728,"TimeAvgMin":1.9689,"VARLABEL":"Vaccination and Spreading of Disease - Q02","std":7.5656,"rankingPolska":26,"top1":"SGP","top2":"KOR","top3":"QCH"},{"item_short":"S634Q03","ProcFullCredit":17.6734,"N":65946,"TimeAvgMin":2.2969,"VARLABEL":"Vaccination and Spreading of Disease - Q03","std":7.5455,"rankingPolska":36,"top1":"SGP","top2":"QUC","top3":"CAN"},{"item_short":"S634Q04","ProcFullCredit":46.2994,"N":66450,"TimeAvgMin":0.6664,"VARLABEL":"Vaccination and Spreading of Disease - Q04","std":12.9236,"rankingPolska":12,"top1":"KOR","top2":"QUC","top3":"FIN"},{"item_short":"S634Q05","ProcFullCredit":12.3542,"N":65849,"TimeAvgMin":2.2864,"VARLABEL":"Vaccination and Spreading of Disease - Q05","std":6.4531,"rankingPolska":28,"top1":"QUC","top2":"QUE","top3":"SGP"},{"item_short":"S635Q01","ProcFullCredit":34.5208,"N":67806,"TimeAvgMin":1.6328,"VARLABEL":"Save the Fish - Q01","std":13.8526,"rankingPolska":13,"top1":"TAP","top2":"JPN","top3":"HKG"},{"item_short":"S635Q02","ProcFullCredit":69.4356,"N":66679,"TimeAvgMin":1.4197,"VARLABEL":"Save the Fish - Q02","std":7.7864,"rankingPolska":33,"top1":"QCH","top2":"TAP","top3":"HKG"},{"item_short":"S635Q03","ProcFullCredit":38.3494,"N":67199,"TimeAvgMin":2.441,"VARLABEL":"Save the Fish - Q03","std":14.1426,"rankingPolska":29,"top1":"SGP","top2":"QUC","top3":"HKG"},{"item_short":"S635Q04","ProcFullCredit":26.0254,"N":67727,"TimeAvgMin":1.4641,"VARLABEL":"Save the Fish - Q04","std":10.9254,"rankingPolska":16,"top1":"QUC","top2":"SGP","top3":"JPN"},{"item_short":"S635Q05","ProcFullCredit":10.1489,"N":66596,"TimeAvgMin":2.7732,"VARLABEL":"Save the Fish - Q05","std":5.3451,"rankingPolska":28,"top1":"SGP","top2":"QUC","top3":"JPN"},{"item_short":"S637Q01","ProcFullCredit":49.2118,"N":64705,"TimeAvgMin":1.7952,"VARLABEL":"Slope-Face Investigation - Q01","std":16.8667,"rankingPolska":9,"top1":"TAP","top2":"SGP","top3":"EST"},{"item_short":"S637Q02","ProcFullCredit":4.0957,"N":69332,"TimeAvgMin":1.0163,"VARLABEL":"Slope-Face Investigation - Q02","std":2.6053,"rankingPolska":41,"top1":"TAP","top2":"SGP","top3":"QCH"},{"item_short":"S637Q05","ProcFullCredit":33.9606,"N":68598,"TimeAvgMin":2.1982,"VARLABEL":"Slope-Face Investigation - Q05","std":9.8613,"rankingPolska":37,"top1":"JPN","top2":"EST","top3":"SGP"},{"item_short":"S638Q01","ProcFullCredit":48.7849,"N":64103,"TimeAvgMin":1.0485,"VARLABEL":"Oil Spills - Q01","std":14.4471,"rankingPolska":38,"top1":"FIN","top2":"KOR","top3":"SGP"},{"item_short":"S638Q02","ProcFullCredit":74.0668,"N":64344,"TimeAvgMin":0.7156,"VARLABEL":"Oil Spills - Q02","std":9.8655,"rankingPolska":28,"top1":"QUC","top2":"TAP","top3":"HKG"},{"item_short":"S638Q04","ProcFullCredit":26.8507,"N":64844,"TimeAvgMin":0.7558,"VARLABEL":"Oil Spills - Q04","std":12.2232,"rankingPolska":27,"top1":"HKG","top2":"QUC","top3":"GBR"},{"item_short":"S638Q05","ProcFullCredit":46.5052,"N":42960,"TimeAvgMin":1.1478,"VARLABEL":"Oil Spills - Q05","std":15.7632,"rankingPolska":17,"top1":"SVN","top2":"TAP","top3":"QCH"},{"item_short":"S641Q01","ProcFullCredit":52.4092,"N":70165,"TimeAvgMin":0.9689,"VARLABEL":"Meteoroids and Craters - Q01","std":13.0811,"rankingPolska":10,"top1":"EST","top2":"FIN","top3":"FRA"},{"item_short":"S641Q02","ProcFullCredit":62.921,"N":69726,"TimeAvgMin":0.808,"VARLABEL":"Meteoroids and Craters - Q02","std":10.3358,"rankingPolska":42,"top1":"EST","top2":"SVN","top3":"RUS"},{"item_short":"S641Q03","ProcFullCredit":90.2183,"N":69087,"TimeAvgMin":1.0874,"VARLABEL":"Meteoroids and Craters - Q03","std":4.0406,"rankingPolska":27,"top1":"QUC","top2":"CZE","top3":"RUS"},{"item_short":"S643Q01","ProcFullCredit":65.9147,"N":67476,"TimeAvgMin":1.604,"VARLABEL":"Comparing Light Bulbs - Q01","std":15.0036,"rankingPolska":15,"top1":"SGP","top2":"QUC","top3":"JPN"},{"item_short":"S643Q02","ProcFullCredit":49.8492,"N":68073,"TimeAvgMin":1.6863,"VARLABEL":"Comparing Light Bulbs - Q02","std":14.8443,"rankingPolska":35,"top1":"SGP","top2":"JPN","top3":"MAC"},{"item_short":"S643Q03","ProcFullCredit":30.1792,"N":58521,"TimeAvgMin":2.4273,"VARLABEL":"Comparing Light Bulbs - Q03","std":15.578,"rankingPolska":36,"top1":"GBR","top2":"SGP","top3":"JPN"},{"item_short":"S643Q04","ProcFullCredit":26.2922,"N":67776,"TimeAvgMin":2.1952,"VARLABEL":"Comparing Light Bulbs - Q04","std":11.278,"rankingPolska":27,"top1":"SGP","top2":"CAN","top3":"QUC"},{"item_short":"S643Q05","ProcFullCredit":21.035,"N":66105,"TimeAvgMin":1.8907,"VARLABEL":"Comparing Light Bulbs - Q05","std":7.3351,"rankingPolska":19,"top1":"EST","top2":"URY","top3":"CHE"},{"item_short":"S645Q01","ProcFullCredit":42.3554,"N":68268,"TimeAvgMin":1.1978,"VARLABEL":"Carbon Dioxide in Earth's Atmosphere - Q01","std":10.4813,"rankingPolska":13,"top1":"SGP","top2":"QUC","top3":"QUE"},{"item_short":"S645Q03","ProcFullCredit":53.3071,"N":67931,"TimeAvgMin":0.5844,"VARLABEL":"Carbon Dioxide in Earth's Atmosphere - Q03","std":11.8628,"rankingPolska":42,"top1":"JPN","top2":"SGP","top3":"TAP"},{"item_short":"S645Q04","ProcFullCredit":59.8512,"N":57893,"TimeAvgMin":1.8469,"VARLABEL":"Carbon Dioxide in Earth's Atmosphere - Q04","std":15.7001,"rankingPolska":17,"top1":"SGP","top2":"HKG","top3":"QCH"},{"item_short":"S645Q05","ProcFullCredit":24.1747,"N":59013,"TimeAvgMin":1.7317,"VARLABEL":"Carbon Dioxide in Earth's Atmosphere - Q05","std":15.5429,"rankingPolska":43,"top1":"SGP","top2":"SWE","top3":"GBR"},{"item_short":"S646Q01","ProcFullCredit":76.7649,"N":69255,"TimeAvgMin":1.3558,"VARLABEL":"Nanoparticles - Q01","std":11.9346,"rankingPolska":15,"top1":"SGP","top2":"CAN","top3":"MAC"},{"item_short":"S646Q02","ProcFullCredit":50.4957,"N":66679,"TimeAvgMin":1.5415,"VARLABEL":"Nanoparticles - Q02","std":10.848,"rankingPolska":29,"top1":"SGP","top2":"JPN","top3":"KOR"},{"item_short":"S646Q03","ProcFullCredit":84.4389,"N":53839,"TimeAvgMin":1.376,"VARLABEL":"Nanoparticles - Q03","std":7.988,"rankingPolska":16,"top1":"QUC","top2":"SGP","top3":"QUE"},{"item_short":"S646Q04","ProcFullCredit":26.4997,"N":66414,"TimeAvgMin":2.5662,"VARLABEL":"Nanoparticles - Q04","std":10.7415,"rankingPolska":37,"top1":"SGP","top2":"HKG","top3":"JPN"},{"item_short":"S646Q05","ProcFullCredit":11.8849,"N":64678,"TimeAvgMin":1.7543,"VARLABEL":"Nanoparticles - Q05","std":7.1623,"rankingPolska":36,"top1":"SGP","top2":"DNK","top3":"EST"},{"item_short":"S648Q01","ProcFullCredit":38.1878,"N":62601,"TimeAvgMin":1.8412,"VARLABEL":"Habitable Zone - Q01","std":13.4654,"rankingPolska":25,"top1":"SGP","top2":"QUC","top3":"EST"},{"item_short":"S648Q02","ProcFullCredit":39.9033,"N":63707,"TimeAvgMin":0.7077,"VARLABEL":"Habitable Zone - Q02","std":9.8105,"rankingPolska":35,"top1":"SGP","top2":"PRT","top3":"JPN"},{"item_short":"S648Q03","ProcFullCredit":59.2527,"N":62723,"TimeAvgMin":0.9393,"VARLABEL":"Habitable Zone - Q03","std":5.8106,"rankingPolska":16,"top1":"QUC","top2":"NZL","top3":"QUE"},{"item_short":"S648Q05","ProcFullCredit":33.7577,"N":48879,"TimeAvgMin":1.9753,"VARLABEL":"Habitable Zone - Q05","std":14.6207,"rankingPolska":24,"top1":"HKG","top2":"TAP","top3":"QCH"},{"item_short":"S649Q01","ProcFullCredit":22.5639,"N":70169,"TimeAvgMin":1.2618,"VARLABEL":"Weather Balloon - Q01","std":7.3383,"rankingPolska":8,"top1":"SVN","top2":"CZE","top3":"HUN"},{"item_short":"S649Q02","ProcFullCredit":14.4482,"N":61030,"TimeAvgMin":1.8616,"VARLABEL":"Weather Balloon - Q02","std":13.4586,"rankingPolska":29,"top1":"TAP","top2":"QCH","top3":"HKG"},{"item_short":"S649Q03","ProcFullCredit":25.7486,"N":69519,"TimeAvgMin":0.8952,"VARLABEL":"Weather Balloon - Q03","std":9.2025,"rankingPolska":20,"top1":"KOR","top2":"QCH","top3":"CHE"},{"item_short":"S649Q04","ProcFullCredit":41.4554,"N":69411,"TimeAvgMin":0.7495,"VARLABEL":"Weather Balloon - Q04","std":8.9345,"rankingPolska":1,"top1":"POL","top2":"JPN","top3":"KOR"},{"item_short":"S656Q01","ProcFullCredit":54.671,"N":70110,"TimeAvgMin":1.4538,"VARLABEL":"Bird Migration - Q01","std":9.6769,"rankingPolska":26,"top1":"EST","top2":"SGP","top3":"QUC"},{"item_short":"S656Q02","ProcFullCredit":33.3307,"N":56989,"TimeAvgMin":2.3014,"VARLABEL":"Bird Migration - Q02","std":14.9986,"rankingPolska":28,"top1":"AUT","top2":"NOR","top3":"GBR"},{"item_short":"S656Q04","ProcFullCredit":36.8167,"N":69530,"TimeAvgMin":1.7582,"VARLABEL":"Bird Migration - Q04","std":10.8064,"rankingPolska":16,"top1":"SVN","top2":"FRA","top3":"JPN"},{"item_short":"S657Q01","ProcFullCredit":70.7207,"N":65228,"TimeAvgMin":0.6695,"VARLABEL":"Invasive Species - Q01","std":11.7241,"rankingPolska":40,"top1":"TAP","top2":"JPN","top3":"KOR"},{"item_short":"S657Q02","ProcFullCredit":39.6077,"N":65483,"TimeAvgMin":1.1882,"VARLABEL":"Invasive Species - Q02","std":7.3424,"rankingPolska":16,"top1":"TAP","top2":"HKG","top3":"CAN"},{"item_short":"S657Q03","ProcFullCredit":47.0417,"N":64942,"TimeAvgMin":0.6979,"VARLABEL":"Invasive Species - Q03","std":8.8741,"rankingPolska":13,"top1":"SGP","top2":"JPN","top3":"MAC"},{"item_short":"S657Q04","ProcFullCredit":13.5887,"N":51559,"TimeAvgMin":2.0921,"VARLABEL":"Invasive Species - Q04","std":8.3733,"rankingPolska":2,"top1":"EST","top2":"POL","top3":"NZL"}] 

jsonik.sort(function(x,y){

return d3.descending(x[zmiennaR], y[zmiennaR]);	

})

// TYTUŁ I PODTYTUŁ
var tytulik = "Krócej z przyrody?";
var podtytulik = "Czas odpowiedzi i procent popr. odpowiedzi na pytania przyrodnicze";

//********************************************************************************* USTAWIENIA OBSZARU RYSOWANIA

var margin = {top: 100, right: 260, bottom: 60, left: 60};

var width = 980 - margin.left - margin.right,
    height = 560 - margin.top - margin.bottom;

// CAŁA GRAFIKA
var svg=d3.select("#chart")  
        .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)

// OBSZAR WYKRESU
var g = svg.append("g")
        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");


//********************************************************************************* SKALE

// SKALA X



var zmiennaX = "TimeAvgMin";

var skalaX = d3.scale.linear(); 

  skalaX.range( [0, width]);   
  skalaX.domain( [0,5] );

//SKALA Y

var zmiennaY = "ProcFullCredit";

var skalaY= d3.scale.linear();

  skalaY.range([height,0]);   
  skalaY.domain( [0,100] );

// SKALA KOLOR

var zmiennaKolor = "std";

var skalaKolor= d3.scale.linear(); 
 
      skalaKolor.range(["blue","red"]);
     // skalaKolor.range(["darkturquoise","orange"]);
 
  skalaKolor.domain( [d3.min(jsonik, function(d){ return d[zmiennaKolor];}),

  d3.max(jsonik, function(d){ return d[zmiennaKolor];})
  	] 
  	); 

// SKALA WIELKOŚĆ

var zmiennaR = "N";

var skalaR= d3.scale.sqrt(); 

  skalaR.range([4,10]);   
  skalaR.domain( [d3.min(jsonik, function(d){ return d[zmiennaR];}),

  d3.max(jsonik, function(d){ return d[zmiennaR];})
  	] 
  	); 

//********************************************************************************* OSIE

// OŚ X

  var xAxis = d3.svg.axis()
                    .scale(skalaX)
                    .orient("bottom")
                    .outerTickSize(0)       
                    .tickPadding(10)
                    
                    
  var xAxisG = g.append("g")
                  .attr("class", "axis x") 
                  .attr("transform", "translate(0," + height + ")")


  xAxisG.call(xAxis);


  xAxisG.append("text")
        .attr("text-anchor", "end")
        .attr("x", width)
        .attr("y", margin.bottom*(2/3))
          .text("Czas [min]")



// OŚ Y

  var yAxis = d3.svg.axis()  
                    .scale(skalaY) 
                    .orient("left")
                    .outerTickSize(0)
                    //.innerTickSize(-width)
                    .tickPadding(10)
        

  var yAxisG = g.append("g") 
                  .attr("class", "axis y") 


  yAxisG.call(yAxis);


  yAxisG.append("text")
          .attr("transform", "translate (-40,0) rotate(-90)") 
          .attr("text-anchor", "end")
          .text("Procent popr. odp [%]")
             

//********************************************************************************* TYTUŁY, ŹRÓDŁO

var tytuly = svg.append("g")
                 .attr("class", "tytuly")

var tytul = tytuly.append("text")
              .attr("x", margin.left)             
              .attr("y", (margin.top)*(1/3))
              .style("font-size", "28px")  
              .text(tytulik);

var podtytul = tytuly.append("text")
              .attr("x", margin.left)             
              .attr("y", (margin.top)*(2/3))
              .style("font-size", "16px")  
              .text(podtytulik);

var zrodlo = tytuly.append("text")
              .attr("x", margin.left)             
              .attr("y", height+margin.top+ margin.bottom*(2/3))
              .style("font-size", "10px") 
              .text("Źródło: PISA 2015");


//*********************************************************************************** LINIA TRENDU



		var  xSeries= jsonik.map(function (d) { return d[zmiennaX]; })
		var  ySeries = jsonik.map(function(d) { return d[zmiennaY]; });
		
		var leastSquaresCoeff = leastSquares(xSeries, ySeries);
		
		
		var x1 = skalaX.domain()[0] + 0.5;
		var y1 = leastSquaresCoeff[1];
		var x2 = skalaX.domain()[1] - 0.5;
		var y2 = leastSquaresCoeff[0] *x2 + leastSquaresCoeff[1];

		var trendData = [[x1,y1,x2,y2]];
		
		var trendline = g.selectAll(".trendline")
			.data(trendData);
			
		trendline.enter()
			.append("line")
			.attr("class", "trendline")
			.attr("x1", function(d) { return skalaX(d[0]); })
			.attr("y1", function(d) { return skalaY(d[1]); })
			.attr("x2", function(d) { return skalaX(d[2]); })
			.attr("y2", function(d) { return skalaY(d[3]); })
			.attr("stroke", "grey")
			.attr("stroke-width", 4)
			.attr("opacity", 0.4);

	// returns slope, intercept and r-square of the line
	function leastSquares(xSeries, ySeries) {
		var reduceSumFunc = function(prev, cur) { return prev + cur; };
		
		var xBar = xSeries.reduce(reduceSumFunc) * 1.0 / xSeries.length;
		var yBar = ySeries.reduce(reduceSumFunc) * 1.0 / ySeries.length;

		var ssXX = xSeries.map(function(d) { return Math.pow(d - xBar, 2); })
			.reduce(reduceSumFunc);
		
		var ssYY = ySeries.map(function(d) { return Math.pow(d - yBar, 2); })
			.reduce(reduceSumFunc);
			
		var ssXY = xSeries.map(function(d, i) { return (d - xBar) * (ySeries[i] - yBar); })
			.reduce(reduceSumFunc);
			
		var slope = ssXY / ssXX;
		var intercept = yBar - (xBar * slope);
		var rSquare = Math.pow(ssXY, 2) / (ssXX * ssYY);
		
		return [slope, intercept, rSquare];
	}


//********************************************************************************* KÓŁKA I KWADRACIKI

// KOŁKA

  var kolka = g.selectAll("circle")
                  .data(jsonik)
                  .enter()
                  .append("circle");
                  

  kolka.attr("cx",function(d){return skalaX(d[zmiennaX]);}) 
           .attr("cy",function(d){return skalaY(d[zmiennaY]);})
           .attr("r",function(d){return skalaR(d[zmiennaR]);})
           .attr("fill", function(d){return skalaKolor(d[zmiennaKolor]); })
           .style("stroke", "grey")
           .attr("stroke-width", "1px")

//********************************************************************************* TOOLTIPY

var zmiennaEtykiety = "item_short"

var doPolski = function(d){

  if( typeof d == "undefined"){
    return "brak pozycji dla Polski" +"</b>";
  }else{
    return d +".  "+"</b>"+"Polska";
  }
}

var tooltipki=d3.select("#chart").append("div").attr("id", "tooltip").style("opacity",0)

  kolka
  .on("mouseover", function(d){


      tooltipki.html( "<b>" + d[zmiennaEtykiety] +"</b>" + " - " + d["VARLABEL"] + "<br/>"+
      	"<br/>"  +
          "Czas odpowiedzi: " +"<b>" + d[zmiennaX].toFixed(2) + " min </b>" +"<br/>" +
          "Procent popr. odpowiedzi : " +"<b>" + d[zmiennaY].toFixed(2) + "% </b>" +"<br/>"  +
          "Odchylenie stand. dla krajów : " +"<b>" + d[zmiennaKolor].toFixed(2) + " </b>" +"<br/>" +
          "Liczba osób odpowiadających : " +"<b>" + d[zmiennaR] + " osób </b>" +"<br/>"  +
          "<br/>"  +
          "<b> Najlepsi: </b> <br/>" +
          "<b>" + "1.  " +"</b>"+ d["top1"]   +"<br/>"  +
          "<b>" +  "2.  " +"</b>"+ d["top2"]   +"<br/>"  +
          "<b>" +  "3.  " +"</b>"+ d["top3"]   +"<br/>"  +
          "<b>" +  doPolski(d["rankingPolska"])+".  "+"</b>"

          )
      .style("left", (d3.event.pageX ) + "px") /* ustalamy pozycje elementu tam gdzie zostanie akcja podjeta */
      .style("top", (d3.event.pageY) + "px")
      .transition()
      .duration(200)
      .style("opacity",1);
    

      d3.select(this)
            .transition()
            .duration(200)
            .style("stroke-width", "3px");



      }

    )

kolka
.on("mouseout", function(d){

    
      d3.select(this)
        .transition()
        .duration(200)
        .style("stroke-width", "1px");

      tooltipki
      .transition()
      .duration(200)
      .style("opacity", 0);
              
 

      }
    );


//******************************************************************************** LEGENDY


// LEGENDA KOLOR

var legendaKolor = svg.append("g")
    .attr("class", "legend kolor")
    .attr("transform", "translate(" + (width + margin.left + 60 )  + "," + (margin.top+90) + ")") 


// tworzenie prostokąta z gradientem
var defs = svg.append("defs");


var linearGradient = defs.append("linearGradient")
    .attr("id", "linear-gradient")
    .attr("x1", "100%").attr("y1", "0%").attr("x2", "100%").attr("y2", "100%").attr("spreadMethod", "pad");

linearGradient.append("stop") 
    .attr("offset", "0%")   
    .attr("stop-color", "blue"); 

//Set the color for the end (100%)
linearGradient.append("stop") 
    .attr("offset", "100%")   
    .attr("stop-color", "red"); 



legendaKolor.append("rect")
	.attr("width", 15)
	.attr("height", 70)
	.attr("x", 0)
	.attr("y", 0)
	.style("fill", "url(#linear-gradient)");    



legendaKolor.append("text")
  .attr("x",-8)
    .attr("y", -45)
    .text("Zróżnicowanie proc. popr. odp.")
    

legendaKolor.append("text")
  .attr("x",-8)
    .attr("y", -25)
    .text("wśród państw (odch. stand.):")    

legendaKolor.append("text")
  .attr("x",25)
    .attr("y", 10)
    .text("małe ("+ skalaKolor.domain()[0].toFixed(2) +")")
    
legendaKolor.append("text")
  .attr("x",25)
    .attr("y", 70)
    .text("duże ("+ skalaKolor.domain()[1].toFixed(2) +")")
    



// LEGENDA WIELKOŚĆ


var legendaWielkosc = svg.append("g")
    .attr("class", "legend r")
    .attr("transform", "translate(" + (width + margin.left + 60 )  + "," + (margin.top+250) + ")") 

 var legendaWielkoscEtykiety = legendaWielkosc.selectAll("g")
                      .data([50000, 10000])
                      .enter()
                      .append("g")
    
  legendaWielkoscEtykiety.append("circle")
           .attr("class", "legend r")
                 .attr("fill", "none")
           .style("stroke-dasharray", 0.7)
           .style("stroke","black")
                 .attr("cx", 0)
                 .attr("cy", function(d,i){ return 35*i; })
                 .attr("r", function(d){ return skalaR(d);})



  legendaWielkoscEtykiety.append("text")
              .attr("x", 20)
              .attr("y", function(d,i){ return 35*i+4; }) 
              .text(function(d){
              	if(d == 50000){
              		return "50 tys. osób";
              	}else{
              		return "10 tys. osób";
              	}
              		
                  });


// dodajemy kropki pomiedzy kołkami


legendaWielkosc.selectAll("circle:not(.legend)")
  .data([1,2,3])
  .enter()
  .append("circle")
    .attr("cx", 0 ) 
    .attr("cy", function(d){ return d*5+skalaR(50000);})
    .attr("r", 0.5)
    .attr("fill", "black")
    .style("stroke","black")


legendaWielkosc.append("text")
  .attr("x",-8)
    .attr("y", -25)
    .text("Liczba odp. na dane pytanie:")
    


</script>
</body>



</html>

